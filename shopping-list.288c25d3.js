!function(){function e(e,n,t,i){Object.defineProperty(e,n,{get:t,set:i,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},s=n.parcelRequirecf20;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){i[e]=n},n.parcelRequirecf20=s),s.register("iE7OH",(function(n,t){var i,s;e(n.exports,"register",(function(){return i}),(function(e){return i=e})),e(n.exports,"resolve",(function(){return s}),(function(e){return s=e}));var r={};i=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)r[n[t]]=e[n[t]]},s=function(e){var n=r[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),s.register("fU6zy",(function(e,n){e.exports=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("1alCl")})),s.register("aNJCr",(function(n,t){var i;e(n.exports,"getBundleURL",(function(){return i}),(function(e){return i=e}));var s={};function r(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(e){var n=s[e];return n||(n=function(){try{throw new Error}catch(n){var e=(""+n.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),s[e]=n),n}})),s.register("bbVM4",(function(e,n){e.exports=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("3Tr0J")})),s.register("fmLO4",(function(e,n){e.exports=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("2t8gc")})),s.register("cdKmz",(function(e,n){e.exports=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("cQxLU")})),s.register("1C4rb",(function(e,n){e.exports=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("k3dFm")})),s.register("cp8qN",(function(e,n){e.exports=s("aNJCr").getBundleURL("jSFKT")+s("iE7OH").resolve("dNbsd")})),s("iE7OH").register(JSON.parse('{"jSFKT":"shopping-list.288c25d3.js","1alCl":"image-1@1x.626c9508.png","3Tr0J":"image-1@2x.104a65be.png","2t8gc":"image-2@1x.652b354e.png","cQxLU":"image-2@2x.15632d7d.png","k3dFm":"image-3@1x.e377c706.png","dNbsd":"image-3@2x.62451a44.png","cT13a":"shopping-list.9248da94.js"}')),s("8MQwU"),s("5xtVg"),s("cfOGF"),s("23Ajj"),s("9ZZxa");var r=s("euqRf"),o=s("jklOU");const a=document.querySelector(".shopping-main__list-js"),l=document.querySelector(".empty-list"),c=document.querySelector(".pagination__btn-first-page-js"),p=document.querySelector(".pagination__btn-per-page-js"),d=document.querySelector(".pagination__btn-next-page-js"),g=document.querySelector(".pagination__btn-last-page-js"),u=new(0,o.Spiner);let _=localStorage.getItem("books-data"),h=1;try{_=JSON.parse(_)}catch(e){console.log(e)}const f=e=>{if(Array.isArray(e)){const n=function(e){e&&0!==e.length||(a.classList.add("visually-hidden"),document.querySelector(".pagination__block-js").classList.add("is-hidden"));if(e.length>0)return document.querySelector(".pagination__block-js").classList.remove("is-hidden"),l.classList.add("visually-hidden"),a.classList.remove("visually-hidden"),e.map((e=>{const n=e.buy_links.find((e=>"Amazon"===e.name)).url,t=e.buy_links.find((e=>"Apple Books"===e.name)).url,i=e.buy_links.find((e=>"Barnes and Noble"===e.name)).url,r=e.description.length>0?"margin-bottom: 20px":"";return`<li class="shopping__item shopping__item-mobile" data-id=${e._id}>\n            <button type="button" data-action='delete' value="remove" class="shopping-button shopping-button-js">\n              <svg class="shopping-button__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 2H10M2 4H14M12.6667 4L12.1991 11.0129C12.129 12.065 12.0939 12.5911 11.8667 12.99C11.6666 13.3412 11.3648 13.6235 11.0011 13.7998C10.588 14 10.0607 14 9.00623 14H6.99377C5.93927 14 5.41202 14 4.99889 13.7998C4.63517 13.6235 4.33339 13.3412 4.13332 12.99C3.90607 12.5911 3.871 12.065 3.80086 11.0129L3.33333 4M6.66667 7V10.3333M9.33333 7V10.3333" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n            </button>\n      <div class='shopping-mobale' >\n            <div class="flex-box-mobale" style='${r}'>\n                <figure class="shopping__box">\n                  <picture>\n                    <img\n                      src="${e.book_image}"\n                      alt="book"\n                      class="shopping__img"\n                      loading="lazy"\n                    />\n                  </picture>\n                  <figcaption class='shopping__author shopping__author-mobile'>${e.author}</figcaption>\n                </figure>\n                <div class="flex-box__text-mobale">\n                  <h2 class="shopping__title">${e.title}</h2>\n                  <p class="shopping__titleText">${e.list_name}</p>\n                  <div class='shops-box shops-box-mobile'>\n                    <ul class="shops-list">\n                    <li>\n                      <a\n                        class="shops-list__link amazon"\n                        href="${n}"\n                        target="_blank"\n                        rel="noopener noreferrer"\n                      >\n                      <img class='shops-list__img' srcset="\n          ${s("fU6zy")} 48w,\n          ${s("bbVM4")} 96w,\n        "\n        sizes="48px" src="${s("fU6zy")}" width="48" height="15" />\n                      </a>\n                    </li>\n                    <li>\n                      <a\n                        class="shops-list__link"\n                        href="${t}"\n                        target="_blank"\n                        rel="noopener noreferrer"\n                      >\n                      <img class='shops-list__img' srcset="\n          ${s("fmLO4")} 28w,\n          ${s("cdKmz")} 56w,\n        "\n        sizes="28px" src="${s("fmLO4")}" width="28" height="27" />\n                      </a>\n                    </li>\n                    <li>\n                      <a\n                        class="shops-list__link"\n                        href="${i}"\n                        rel="noopener noreferrer"\n                        target="_blank"\n                      >\n                      <img class='shops-list__img' srcset="\n          ${s("1C4rb")} 32w,\n          ${s("cp8qN")} 64w,\n        "\n        sizes="32px" src="${s("1C4rb")}" width="32" height="30" />\n                      </a>\n                    </li>\n                  </ul>\n                  </div>\n                  </div>\n                </div>\n                <p  class='shopping__text shopping__text-mobale' >${e.description}</p>\n            </div>\n      </div>\n\n      <div class='shopping-tablet'>\n        <div class='flex-box-tablet'>\n                    <img\n                      src="${e.book_image}"\n                      alt="book"\n                      class="shopping__img"\n                      loading="lazy"\n                    />\n            <div class="flex-box__text-tablet">\n                  <div class='flex-box__information'>\n                    <h2 class="shopping__title">${e.title}</h2>\n                    <p class="shopping__titleText">${e.list_name}</p>\n                    <p class='shopping__text'>${e.description}</p>\n                  </div>\n                  <div class="shopping-box-tablet">\n                    <p class='shopping__author'>${e.author}</p>\n                    <ul class="shops-list">\n                      <li>\n                        <a\n                          class="shops-list__link amazon"\n                          href="${n}"\n                          target="_blank"\n                          rel="noopener noreferrer"\n                        >\n                        <img class='shops-list__img' srcset="\n                        ${s("fU6zy")} 48w,\n                        ${s("bbVM4")} 96w,\n                        "\n                        sizes="48px" src="${s("fU6zy")}" width="48" height="15" />\n                        </a>\n                      </li>\n                      <li>\n                        <a\n                          class="shops-list__link"\n                          href="${t}"\n                          target="_blank"\n                          rel="noopener noreferrer"\n                        >\n                        <img class='shops-list__img' srcset="\n                        ${s("fmLO4")} 28w,\n                        ${s("cdKmz")} 56w,\n                        "\n                        sizes="28px" src="${s("fmLO4")}" width="28" height="27" />\n                        </a>\n                      </li>\n                      <li>\n                        <a\n                          class="shops-list__link"\n                          href="${i}"\n                          target="_blank"\n                          rel="noopener noreferrer"\n                        >\n                        <img class='shops-list__img' srcset="\n                        ${s("1C4rb")} 32w,\n                        ${s("cp8qN")} 64w,\n                        "\n                        sizes="32px" src="${s("1C4rb")}" width="32" height="30" />\n                        </a>\n                      </li>\n                    </ul>\n                  </div>\n            </div> \n        </div>\n      </div>\n      </li>`})).join("")}(e);a.insertAdjacentHTML("beforeend",n),a.addEventListener("click",v)}else a.classList.add("visually-hidden"),l.classList.remove("visually-hidden");u.hide()},b=e=>{let n=null;n=1===(e=Number(e))?e-1:3*(e-1);const t=_.slice(n,n+3);f(t);document.querySelector(".pagination__item-create-pages").addEventListener("click",e.textContent),(e=>{const n=document.querySelector(".pagination__item-create-pages");n.addEventListener("click",(function(e){e.target===i&&i.classList.add("focus-color")}));const t=Math.ceil(_.length/3),i=[];for(let n=1;n<=t;n+=1)i.push(`<li>\n    <button type="button" class="pagination__btn-current-page pagination__btn-current-page-js ${e===n?"selected":""}">${n}</button>\n    </li>`);n.innerHTML=i.join("")})(e)};b(h);const m=e=>{switch(e.currentTarget){case c:h=1;break;case p:h=h>1?h-1:1;break;case d:h=h===Math.ceil(_.length/3)?Math.ceil(_.length/3):h+1;break;case g:h=Math.ceil(_.length/3)}a.innerHTML="",b(h)};async function v(e){if("delete"!==e.target.dataset.action)return;const n=e.target.closest(".shopping__item"),t=n.dataset.id;_=_.filter((e=>e._id!==t)),await(0,r.writeUserData)(_),localStorage.setItem("books-data",JSON.stringify(_)),n.remove(),_&&0!==_.length||(l.classList.remove("visually-hidden"),document.querySelector(".pagination__block-js").classList.add("is-hidden")),_.length>0&&(l.classList.add("visually-hidden"),document.querySelector(".pagination__block-js").classList.remove("is-hidden")),a.innerHTML="",b(h)}document.querySelector(".pagination__item-js").addEventListener("click",(e=>{let n=e.target.textContent;"BUTTON"===e.target.nodeName&&(a.innerHTML="",b(n))})),c.addEventListener("click",m),p.addEventListener("click",m),d.addEventListener("click",m),g.addEventListener("click",m),s("i8Q71"),s("xpKCW"),s("euqRf")}();
//# sourceMappingURL=shopping-list.288c25d3.js.map
